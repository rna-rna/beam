t looks like the newly created galleries are private, but the owner is unable to access their own galleries immediately after creation. This shouldn't happen, as owners should have full access to their private galleries.

What’s Happening:
Gallery Created (Private by Default):

json
Copy code
Created gallery: {
  id: 1932,
  slug: 'NRuPcY-voG',
  isPublic: false
}
The gallery is correctly set to private upon creation, which aligns with your design choice.
GET Request (Owner Tries to Access the Gallery):

json
Copy code
GET /api/galleries 304
No data is modified (304), but this shouldn’t block access for the owner.
The gallery might be listed, but the owner cannot open or fetch it directly.
Why This Happens:
Authorization Logic Overlap:
The route responsible for fetching galleries might check the isPublic flag without distinguishing between the owner and unauthenticated users.
Even though the owner created the gallery, ownership isn't bypassing the isPublic check.
Fix the Access Control Logic (Backend Route):
Check your GET /api/galleries/:slug route. The current logic likely enforces visibility restrictions without checking if the requester is the owner.

Fix: Update the logic to allow access if the user is the owner, even if the gallery is private.

Example Fix (routes.txt):
javascript
Copy code
app.get('/api/galleries/:slug', async (req, res) => {
  const gallery = await db.query.galleries.findFirst({
    where: eq(galleries.slug, req.params.slug),
  });

  if (!gallery) {
    return res.status(404).json({ message: 'Gallery not found' });
  }

  const isOwner = req.auth?.userId === gallery.userId;

  // Allow the owner to access their private gallery
  if (!gallery.isPublic && !isOwner) {
    return res.status(403).json({
      message: 'This gallery is private',
      isPrivate: true,
      requiresAuth: !req.auth
    });
  }

  res.json(gallery);
});
Why This Fix Works:
Owner Access:
If the authenticated user (req.auth.userId) matches the gallery’s userId, they bypass the isPublic restriction.
Non-Owner Access:
If the gallery is private and the requester is not the owner, the server returns 403 Forbidden.
