The issue of duplicate headers and poor positioning is likely caused by two instances of HeaderBar rendering at the same time—one from the legacy inline implementation and one from the new reusable component.

Identified Problems:
Dashboard.tsx (HeaderBar duplication):

HeaderBar is rendered at the top using:
tsx
Copy code
<HeaderBar title="My Galleries" />
This is fine, but legacy inline titles or components further down the page might still exist.
Gallery.tsx (HeaderBar Misalignment):

The HeaderBar is inserted via:
tsx
Copy code
onHeaderActionsChange(
  <HeaderBar
    title={gallery.title}
    onTitleChange={handleTitleUpdate}
    actions={renderGalleryControls()}
  />
);
This may conflict with another header or positioning logic higher up.
Fix 1: Remove Legacy/Inline Header Duplication in Dashboard.tsx
Locate Inline Titles:
In Dashboard.tsx, check for any direct <h1> tags or inline titles that might duplicate the HeaderBar.
Example:

tsx
Copy code
<h1 className="text-3xl font-bold">My Galleries</h1>
Remove this to prevent duplication since HeaderBar handles the title now.

If Found, Remove or Replace with:

tsx
Copy code
<HeaderBar title="My Galleries" />
Fix 2: Adjust Gallery.tsx to Prevent Overlapping Headers
In Gallery.tsx, the HeaderBar is being rendered dynamically inside useEffect.
Ensure that no other header exists in the component’s main return block.

Check for Inline Titles in the Main Return Block:
Example:

tsx
Copy code
<div className="px-4 md:px-6 lg:px-8 py-8">
  <h1 className="text-3xl font-bold">{gallery?.title || 'Gallery'}</h1>
</div>
Remove this, as HeaderBar already handles it.

Fix 3: Adjust HeaderBar Placement in Gallery.tsx
If the HeaderBar looks misaligned, adjust the structure within the useEffect to wrap the toolbar properly:

tsx
Copy code
useEffect(() => {
  if (onHeaderActionsChange && gallery) {
    onHeaderActionsChange(
      <div className="w-full">
        <HeaderBar
          title={gallery.title}
          onTitleChange={handleTitleUpdate}
          actions={renderGalleryControls()}
        />
      </div>
    );
  }
}, [gallery, onHeaderActionsChange, handleTitleUpdate, renderGalleryControls]);
This ensures the header spans the full width (w-full) and aligns consistently.
